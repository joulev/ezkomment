@tailwind base;
@tailwind components;
@tailwind utilities;
@import "./prism-theme.css";

@layer utilities {
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

@layer components {
    * {
        @apply min-w-0;
    }
    ::selection {
        @apply bg-indigo-500 text-white;
        text-shadow: none;
    }
    .a {
        @apply text-primary hover:text-indigo-700 dark:hover:text-indigo-300
            hover:underline transition underline-offset-4 cursor-pointer;
    }
    h1 {
        @apply text-4xl font-light mt-9 mb-6;
    }
    h2 {
        @apply text-2xl font-semibold mt-9 mb-6;
    }
    hr {
        @apply my-9 border-card;
    }
    p {
        @apply mb-6;
    }
    /* Make div bounding consistent, not even sure if this is a good idea */
    div :where(h1, h2, h3, h4, h5, h6, p):first-child {
        @apply mt-0;
    }
    hr + :where(h1, h2, h3, h4, h5, h6, p) {
        @apply mt-0;
    }
    strong {
        @apply font-bold;
    }
    form:invalid button:not([type="button"]):not([type="reset"]),
    button:disabled {
        @apply cursor-not-allowed text-muted bg-neutral-300 dark:bg-neutral-700 border-card
            hover:text-muted hover:bg-neutral-300 dark:hover:bg-neutral-700 hover:border-card
            focus:text-muted focus:bg-neutral-300 dark:focus:bg-neutral-700 focus:border-card;
    }
    .text-muted {
        @apply text-neutral-400 dark:text-neutral-500;
    }
    .text-primary {
        @apply text-indigo-500 dark:text-indigo-400;
    }
    .bg-card {
        @apply bg-white dark:bg-black;
    }
    .border-card {
        @apply border-neutral-300 dark:border-neutral-700;
    }
    .border-muted {
        @apply border-neutral-500; /* intended for hover, focus states of border */
    }
    .divide-card {
        @apply divide-neutral-300 dark:divide-neutral-700;
    }
    .divide-muted {
        @apply divide-neutral-500;
    }
    .pulse {
        @apply bg-neutral-300 dark:bg-neutral-700 animate-pulse;
    }
    .logo-width {
        @apply w-[calc(397px/80*36)];
    }
    .text-gradient {
        @apply bg-gradient-to-br bg-clip-text text-transparent;
    }
    .text-gradient svg {
        stroke: var(--tw-gradient-to);
        @apply fill-transparent;
    }
    .arrow-bar {
        stroke-dasharray: 14;
        stroke-dashoffset: 14;
        @apply !transition-all;
    }
    .group:hover .arrow-bar {
        stroke-dashoffset: 0;
    }
    .landing-link {
        @apply relative after:absolute after:top-full after:inset-x-0 after:h-1.5 after:transition-all;
    }
    .landing-link::after {
        background-image: linear-gradient(#d4d4d4, #d4d4d4),
            linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to));
        background-size: 100% 1.5px, 0 1.5px;
        background-position: 100% 100%, 0 100%;
        background-repeat: no-repeat, no-repeat;
    }
    .dark .landing-link::after {
        background-image: linear-gradient(#404040, #404040),
            linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to));
    }
    .landing-link:hover::after {
        background-size: 0 1.5px, 100% 1.5px;
    }
    .stars {
        /* Modified from https://heropatterns.com, 4-point star pattern */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='72' height='72' viewBox='-48 -48 72 72'%3E%3Cg fill='%2373737380' fill-opacity='0.2'%3E%3Cpolygon fill-rule='evenodd' points='8 4 12 6 8 8 6 12 4 8 0 6 4 4 6 0 8 4'/%3E%3C/g%3E%3C/svg%3E");
    }
    .spaceship-smoke {
        @apply border-x;
        border-image: linear-gradient(to bottom, #737373, rgba(0, 0, 0, 0)) 1 100%;
    }
    /* Change mode: Remove all transition */
    .changing-mode * {
        @apply !transition-none;
    }
    /* NProgress */
    #nprogress {
        @apply pointer-events-none;
    }
    #nprogress .bar {
        @apply bg-indigo-500 fixed z-[60] top-0 left-0 w-full h-[3px];
    }
    #nprogress .peg {
        @apply block absolute right-0 w-24 h-full opacity-1;
        box-shadow: 0 0 10px theme("colors.indigo.500"), 0 0 5px theme("colors.indigo.500");
        -webkit-transform: rotate(3deg) translate(0px, -4px);
        -ms-transform: rotate(3deg) translate(0px, -4px);
        transform: rotate(3deg) translate(0px, -4px);
    }
    /* Homepage */
    .home-section {
        @apply sm:text-lg md:text-xl lg:text-lg xl:text-xl;
    }
    .home-section h2 {
        @apply text-4xl md:text-5xl lg:text-4xl xl:text-5xl;
    }
    /* Docs */
    .post {
        @apply print:text-[10pt] print:text-black print:text-justify;
    }
    .post h1 {
        @apply mb-12 print:text-[24pt];
    }
    .post h2 {
        @apply text-3xl print:text-[18pt] font-semibold mt-12 mb-9 print:my-6 scroll-mt-27 md:scroll-mt-12;
    }
    .post h3 {
        @apply text-2xl print:text-[15pt] font-semibold mt-12 mb-9 print:my-6 scroll-mt-27 md:scroll-mt-12;
    }
    .post h4 {
        @apply text-xl print:text-[14pt] font-light mt-9 mb-6 print:my-6 scroll-mt-24 md:scroll-mt-9;
    }
    .post.blog :where(h2, h3, h4) {
        @apply scroll-mt-27;
    }
    .post :not(pre) > code {
        @apply text-sm px-1 py-0.5 bg-neutral-300 dark:bg-neutral-700 print:bg-neutral-200 rounded break-all;
    }
    .post pre {
        @apply font-mono text-sm border p-3 rounded mb-6 border-card bg-card overflow-x-auto
            no-scrollbar; /* not sure if this is a good design decision */
    }
    .post :where(pre, code) {
        @apply print:!text-[8pt];
    }
    .post ul {
        @apply list-disc ml-9;
    }
    .post ol {
        @apply list-decimal ml-9;
    }
    .post :where(ul, ol) li {
        @apply mb-3;
    }
    .post :where(ul, ol) li:last-child {
        @apply mb-6;
    }
    .post blockquote {
        @apply mb-6 italic ml-6 relative text-neutral-700 dark:text-neutral-300
            before:absolute before:-left-6 before:inset-y-0 before:w-1 before:bg-neutral-500 before:rounded;
    }
    /* Code */
    .ignored,
    .ignored * {
        @apply !text-neutral-300 dark:!text-neutral-700;
    }
}

html {
    -webkit-tap-highlight-color: transparent;
}
